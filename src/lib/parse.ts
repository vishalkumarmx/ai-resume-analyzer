import mammoth from 'mammoth';import pdf from 'pdf-parse';export async function extractTextFromFile(file:File,filename:string):Promise<string>{const buf=Buffer.from(await file.arrayBuffer());const name=filename.toLowerCase();if(name.endsWith('.pdf')){const data=await pdf(buf);return (data.text||'').trim()}if(name.endsWith('.docx')){const {value}=await mammoth.extractRawText({buffer:buf});return (value||'').trim()}return buf.toString('utf-8')}